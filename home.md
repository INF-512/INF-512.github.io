
性质 $2$：求出二分图的任意一颗生成树，生成树外的边可以任意赋值。

证明：

我们任取一条生成树外的边权为 $x$ 的边 $(l, r)$，只要令生成树上从 $l$ 到 $r$ 的路径的所有边异或上 $x$，就可以抵消掉这条边。

性质 $3$：给出一颗生成树和每个节点的点权，要么无解，要么生成树的边的赋值方案是唯一的。

证明：

我们给生成树任意指定一个根节点，对于每一个叶子节点，从它到父节点的边的边权只能为叶子节点的点权；对于每一个非叶子节点，从它到儿子的边的边权已经算出，只剩从它到父节点的边的边权未固定，依靠它的点权，就可以把边权算出；对于根节点，从它到儿子的边的边权已经算出，直接判断它的边权的异或和是否等于点权即可。

所以我们只要求出二分图的任意一颗生成树，把生成树外的格子任意赋值，使用dfs确定生成树上的边权，最后记得检查一下有没有重复的格子，就做完了。

```cpp
signed main() {
  ios::sync_with_stdio(0);
  cin.tie(0);
  int T; cin >> T; while (T--)
  test();
  return 0;
}
```